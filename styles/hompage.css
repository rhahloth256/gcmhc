/* =======================
   GCMHSC — Homepage Styles (Teal + Orange System)
   ======================= */

/* ---------- Design Tokens ---------- */
:root {
    /* Brand */
    --brand: #2a8c82;
    /* primary teal */
    --brand-ink: #0e3b37;
    /* deep teal text */
    --brand-ink-2: #134c46;
    /* slightly lighter deep teal */
    --brand-tint: #e9f6f5;
    /* very light teal bg */
    --brand-hover: #257a73;
    /* darker teal for hover */
    --accent: #1f6d66;
    /* darker teal for gradients */

    /* Donate / Accent Orange */
    --donate: #e85d04;
    --donate-hover: #cf5304;
    --donate-tint: #fff1e7;

    /* Neutrals */
    --bg: #ffffff;
    --bg-alt: #f6fbfa;
    --surface: #ffffff;
    --ink: #1b1b1b;
    --muted: #5b6b6a;
    --border: #e8efee;
    --ring: rgba(42, 140, 130, .28);
    /* teal focus ring */

    /* Layout knobs */
    --page-max: 1800px;
    --gutter-min: 1rem;

    /* Type scale */
    --fs-00: clamp(.92rem, .84rem + .25vw, 1rem);
    --fs-0: clamp(1rem, .95rem + .35vw, 1.125rem);
    --fs-1: clamp(1.125rem, 1.02rem + .6vw, 1.35rem);
    --fs-2: clamp(1.35rem, 1.06rem + 1.2vw, 1.75rem);
    --fs-3: clamp(1.75rem, 1.2rem + 2vw, 2.25rem);
    --fs-4: clamp(2.25rem, 1.5rem + 3vw, 3rem);
    --fw-regular: 450;
    --fw-semibold: 600;
    --fw-bold: 700;
    --ink-strong: #0b2623;
}

/* ---------- Base ---------- */
*,
*::before,
*::after {
    box-sizing: border-box;
}

html,
body {
    margin: 0;
    padding: 0;
    color: var(--ink);
    background: var(--bg);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

img {
    max-width: 100%;
    display: block;
}

/* Links default to brand */
a {
    color: var(--brand);
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

/* ---------- Container (fluid gutters, centered to max width) ---------- */
.container {
    width: 100%;
    margin: 0;
    padding-left: max(var(--gutter-min), (100vw - var(--page-max))/2);
    padding-right: max(var(--gutter-min), (100vw - var(--page-max))/2);
    padding-left: max(var(--gutter-min), (100vw - var(--page-max))/2, env(safe-area-inset-left));
    padding-right: max(var(--gutter-min), (100vw - var(--page-max))/2, env(safe-area-inset-right));
    box-sizing: border-box;
}

/* ---------- Sections ---------- */
.section {
    padding: 2rem 0;
}

.section-alt {
    background: var(--bg-alt);
}

.section-header {
    margin-bottom: 1rem;
}

.section-header p {
    color: var(--muted);
    margin-top: .35rem;
}

.lead {
    font-size: var(--fs-1) !important;
    max-width: 65ch;
    line-height: 1.65;
    color: var(--ink);
}

/* Framed blocks */
.framed-block {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 1.25rem;
    box-shadow: 0 1px 10px rgba(0, 0, 0, .02);
    overflow: clip;
}

/* Section title bars */
.section-titlebar {
    border-bottom: 1px solid var(--border);
    padding-bottom: .75rem;
    margin-bottom: 1rem;
}

.section-titlebar h2 {
    margin: 0;
    font-size: var(--fs-3);
    color: var(--ink-strong);
}

.section-titlebar p {
    margin: .4rem 0 0;
    color: var(--muted);
}

/* ---------- Sticky on-page nav ---------- */
.section-nav {
    position: sticky;
    top: 0;
    z-index: 5;
    background: #fff;
    border-block: 1px solid var(--border);
}

.section-nav-inner {
    display: flex;
    align-items: center;
    gap: .5rem .75rem;
    padding: .5rem 0;
    flex-wrap: wrap;
    overflow: visible;
    width: 100%;
}

.chip {
    display: inline-flex;
    align-items: center;
    gap: .35rem;
    border: 1px solid var(--border);
    padding: .35rem .7rem;
    border-radius: 999px;
    text-decoration: none;
    color: var(--brand-ink);
    background: #fff;
    white-space: nowrap;
    font-size: var(--fs-00);
    font-weight: var(--fw-semibold);
}

.chip:hover {
    border-color: var(--brand);
    background: var(--brand-tint);
}

.chip-donate {
    background: var(--donate);
    color: #fff;
    border-color: transparent;
}

.chip-donate:hover {
    background: var(--donate-hover);
}

/* ---------- Grid helpers ---------- */
.grid-2 {
    display: grid;
    grid-template-columns: 320px 1fr;
    gap: 1.5rem;
}

.gap-lg {
    gap: 2rem;
}

@media (max-width:1000px) {
    .grid-2 {
        grid-template-columns: 1fr;
    }
}

.grid-2>* {
    min-width: 0;
}

/* ---------- Buttons ---------- */
.btn {
    display: inline-flex;
    align-items: center;
    gap: .5rem;
    padding: .7rem 1.05rem;
    border-radius: .6rem;
    border: 1px solid transparent;
    text-decoration: none;
    line-height: 1;
    font-size: var(--fs-00);
    font-weight: var(--fw-semibold);
}

.btn:focus-visible {
    outline: 3px solid var(--ring);
    outline-offset: 2px;
}

.btn-primary {
    background: var(--brand);
    color: #fff;
}

.btn-primary:hover {
    background: var(--brand-hover);
}

.btn-outline {
    border-color: var(--brand);
    color: var(--brand);
    background: transparent;
}

.btn-outline:hover {
    background: var(--brand-tint);
}

.btn-ghost {
    border-color: transparent;
    background: transparent;
    color: var(--brand-ink);
    text-decoration: underline;
}

.btn-ghost:hover {
    color: var(--brand-hover);
}

.btn-contrast {
    background: #fff;
    color: var(--brand-ink);
    border: 1px solid var(--brand-ink);
}

.btn-contrast:hover {
    background: #fafafa;
}

.btn-donate,
.btn-donate-lg {
    background: var(--donate);
    color: #fff;
    border: 1px solid transparent;
}

.btn-donate:hover,
.btn-donate-lg:hover {
    background: var(--donate-hover);
}

.btn-donate-lg {
    padding: .95rem 1.25rem;
    border-radius: .7rem;
    font-weight: 700;
}

.btn-block {
    display: block;
    width: 100%;
    text-align: center;
}

@media (prefers-reduced-motion:no-preference) {
    .btn {
        transition: transform .2s ease, box-shadow .2s ease, filter .2s ease, background .2s ease;
    }

    .btn:hover {
        transform: translateY(-1px);
    }
}

/* ---------- Hero (split) ---------- */
.hero--split {
    background: #f7fbfa;
    color: var(--ink);
    padding: 2.5rem 0;
}

.hero-grid {
    display: grid;
    grid-template-columns: 1.2fr 1fr;
    gap: 2rem;
    align-items: start;
}

@media (max-width:1000px) {
    .hero-grid {
        grid-template-columns: 1fr;
    }
}

#hero-title {
    font-size: var(--fs-4);
    font-weight: 800;
    letter-spacing: -.02em;
    color: var(--ink-strong);
}

.hero-copy {
    text-align: left;
}

.hero-cta-row {
    display: flex;
    gap: .6rem;
    flex-wrap: wrap;
    margin-top: .8rem;
}

.trust-badges {
    display: flex;
    gap: .9rem;
    flex-wrap: wrap;
    margin-top: .8rem;
    color: var(--muted);
}

.trust-badges li {
    list-style: none;
    display: flex;
    align-items: center;
    gap: .5rem;
}

.hero-visual img {
    width: 100%;
    height: 400px;
    object-fit: cover;
    border-radius: 16px;
}

@media (max-width:1000px) {
    .hero-visual img {
        height: 240px;
    }
}

/* ---------- Crisis strip ---------- */
.crisis-strip {
    background: var(--brand);
    color: #fff;
    padding: .7rem 0;
}

.crisis-flex {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: .6rem;
    justify-content: space-between;
}

.crisis-text {
    margin: 0;
    font-size: 1rem;
}

.crisis-actions {
    display: flex;
    gap: .45rem;
    flex-wrap: wrap;
}

@media (max-width:768px) {
    .crisis-flex {
        justify-content: center;
        text-align: center;
    }

    .crisis-actions {
        justify-content: center;
    }
}

/* ---------- Services ---------- */
.aside {
    text-align: left;
}

.sticky {
    position: sticky;
    top: 1rem;
    align-self: start;
}

@media (max-width:1000px) {
    .sticky {
        position: static;
    }
}

.aside-list {
    margin-top: .6rem;
    padding-left: 1rem;
}

.aside-list li {
    margin: .25rem 0;
}

.card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 1rem;
}

.card-grid--roomy {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.2rem;
}

.card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: .9rem;
    box-shadow: 0 2px 6px rgba(0, 0, 0, .03);
}

.card-icon {
    font-size: 1.4rem;
    color: var(--brand);
    margin-bottom: .4rem;
}

.card h3 {
    margin: .2rem 0;
    font-size: var(--fs-2);
    font-weight: var(--fw-semibold);
    color: var(--ink-strong);
}

.card p {
    color: var(--muted);
    margin: .25rem 0 .35rem;
    font-size: var(--fs-0);
}

.card-link {
    margin-top: .3rem;
    display: inline-block;
    color: var(--brand);
}

.card-link:hover {
    color: var(--brand-hover);
    text-decoration: underline;
}

@media (prefers-reduced-motion:no-preference) {
    .card {
        transition: box-shadow .2s ease, transform .2s ease;
    }

    .card:hover {
        box-shadow: 0 6px 16px rgba(0, 0, 0, .05);
        transform: translateY(-1px);
    }
}

/* ---------- Approach pills ---------- */
.pill-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: .6rem;
}

.pill {
    background: #fff;
    border: 1px solid #e0eeec;
    border-radius: 999px;
    padding: .55rem .9rem;
    display: flex;
    align-items: center;
    gap: .5rem;
}

/* ---------- Lightweight Gallery (one slide per view) ---------- */
.gallery {
    position: relative;
    border: 1px solid var(--border);
    border-radius: 16px;
    background: #fff;
    overflow: hidden;
}

.gallery-viewport {
    overflow: hidden;
}

.gallery-track {
    display: flex;
    transition: transform .35s ease;
    will-change: transform;
}

.gallery-slide {
    flex: 0 0 100%;
    display: grid;
    grid-template-rows: 1fr auto;
}

.gallery-slide img {
    width: 100%;
    height: clamp(220px, 48vh, 520px);
    object-fit: cover;
    object-position: center;
    display: block;
}

.gallery .caption {
    margin: 0;
    padding: .75rem 1rem 1.1rem;
    color: var(--muted);
    border-top: 1px solid var(--border);
}

.gallery-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    border-radius: 999px;
    border: 0;
    background: #ffffffee;
    color: #111;
    display: grid;
    place-items: center;
    cursor: pointer;
}

.gallery-nav.prev {
    left: .6rem;
}

.gallery-nav.next {
    right: .6rem;
}

.gallery-nav:focus-visible {
    outline: 2px solid #8ab4ff;
    outline-offset: 2px;
}

.gallery-dots,
.gallery-progress {
    display: none !important;
}

@media (max-width:640px) {
    .gallery-slide img {
        height: clamp(200px, 42vh, 420px);
    }
}

/* ---------- Donate banner ---------- */
.donate-banner {
    background: linear-gradient(90deg, var(--accent), var(--brand));
    color: #fff;
    padding: 1.5rem 0;
}

.donate-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
}

.donate-inner h2 {
    margin: 0;
}

.donate-inner p {
    margin: .3rem 0 0;
    color: #eaf5f4;
}

@media (max-width:700px) {
    .donate-inner {
        flex-direction: column;
        align-items: flex-start;
    }
}

/* ---------- CTA ---------- */
.cta-banner {
    text-align: center;
    background: radial-gradient(1200px 400px at 20% -20%, rgba(42, 140, 130, .12), transparent), #ffffff;
    padding: 2rem 0;
    border-block: 1px solid var(--border);
}

.cta-inner {
    width: 90%;
    margin-inline: auto;
    padding-inline: 1rem;
}

.cta-inner .btn {
    margin-top: .3rem;
}

/* ---------- Testimonials ---------- */
.testimonials {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 1rem;
}

.testimonial {
    background: #fff;
    border: 1px solid var(--border);
    padding: .9rem;
    border-radius: 10px;
}

.testimonial cite {
    display: block;
    color: var(--muted);
    margin-top: .35rem;
}

/* ---------- FAQs ---------- */
.faq {
    display: grid;
    gap: .45rem;
}

.faq-q {
    width: 100%;
    text-align: left;
    background: #fff;
    border: 1px solid #e4efee;
    border-radius: 10px;
    padding: .65rem .9rem;
    font-weight: var(--fw-semibold);
    cursor: pointer;
}

.faq-q[aria-expanded="true"] {
    border-color: var(--brand);
    box-shadow: 0 0 0 3px var(--ring);
}

.faq-a {
    background: #fff;
    border: 1px solid #e4efee;
    border-radius: 10px;
    padding: .85rem;
    margin-top: -.2rem;
    font-size: var(--fs-0);
    line-height: 1.6;
}

/* ---------- Global images in main (no forced squares) ---------- */
#main img {
    width: 100%;
    height: auto;
    border-radius: 12px;
}

#main figure {
    margin: 0;
}

/* =========================
   Impact Section — laptop optimized
   ========================= */
#impact .grid-2 {
    grid-template-columns: minmax(0, 2fr) minmax(0, 1fr) !important;
    /* gallery 2/3, aside 1/3 */
    gap: 2rem;
    align-items: start;
}

#impact .gallery {
    width: 100%;
}

#impact .gallery-viewport {
    overflow: hidden;
}

#impact .gallery-track {
    display: flex;
    gap: 0;
    list-style: none;
    margin: 0;
    padding: 0;
    will-change: transform;
}

#impact .gallery-slide {
    flex: 0 0 100%;
    min-width: 100%;
    display: grid;
    grid-template-rows: 1fr auto;
}

#impact .gallery-slide img {
    height: clamp(320px, 52vh, 460px);
}

/* immersive on laptops */
#impact .gallery .caption {
    margin: 0;
    padding: .75rem 1rem 1.1rem;
    color: var(--muted);
    border-top: 1px solid var(--border);
    white-space: normal;
    overflow: visible;
    text-overflow: unset;
}

@media (max-width:900px) {
    #impact .grid-2 {
        grid-template-columns: 1fr !important;
    }

    #impact .gallery-slide img {
        height: clamp(220px, 50vh, 520px);
    }
}

@media (max-width:640px) {
    #impact .gallery-slide img {
        height: clamp(180px, 42vh, 380px);
    }
}

/* ---------- Footer widths follow container ---------- */
.footer-wrapper .banner-wrapper,
.footer-wrapper .footer-extras,
.footer-wrapper .footer-bottom {
    width: 100%;
    padding-left: max(var(--gutter-min), (100vw - var(--page-max))/2);
    padding-right: max(var(--gutter-min), (100vw - var(--page-max))/2);
    padding-left: max(var(--gutter-min), (100vw - var(--page-max))/2, env(safe-area-inset-left));
    padding-right: max(var(--gutter-min), (100vw - var(--page-max))/2, env(safe-area-inset-right));
    box-sizing: border-box;
}

/* ---------- Typography Enhancements ---------- */
body {
    font-size: var(--fs-0);
    line-height: 1.6;
    letter-spacing: .005em;
}

h1,
h2,
h3 {
    margin: .15em 0 .35em;
    font-weight: var(--fw-bold);
    line-height: 1.15;
    color: var(--ink-strong);
    letter-spacing: -.01em;
}

.hero-copy .lead {
    max-width: 60ch;
}

@media (max-width:400px) {
    #hero-title {
        letter-spacing: -.01em;
    }
}

/* --- Section nav: desktop/tablet --- */
:root {
    --nav-offset: 4.5rem;
    /* match your header height */
}

.section-nav {
    position: sticky;
    top: var(--nav-offset);
    z-index: 4;
    background: #fff;
    border-block: 1px solid var(--border);
}

.section-nav .section-nav-inner {
    display: flex;
    align-items: center;
    gap: .5rem .75rem;
    padding: .5rem 0;
    flex-wrap: wrap;
}

/* Stronger focus for accessibility */
.chip:focus-visible,
.faq-q:focus-visible,
.btn:focus-visible {
    outline: 3px solid var(--ring);
    outline-offset: 2px;
}

/* Phones: turn OFF sticky */
@media (max-width: 768px) {
    .section-nav {
        position: static;
        /* ✅ no sticky on small screens */
        top: auto;
        border-block: 0;
        /* optional: remove the line if you don’t want it */
    }
}